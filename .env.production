# Production Environment Configuration for Rental ML System
# Generated on 2025-07-12

# ============================================
# APPLICATION CONFIGURATION
# ============================================
ENVIRONMENT=production
DEBUG=false
SECRET_KEY=rental_ml_super_secret_key_change_in_production_2025
API_VERSION=v1

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL Database Settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=rental_ml
DB_USERNAME=rental_ml_user
DB_PASSWORD=password123

# Connection Pool Settings (Production Optimized)
DB_POOL_SIZE=15
DB_MAX_OVERFLOW=25
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true

# Database Connection URLs
DATABASE_URL=postgresql+asyncpg://rental_ml_user:password123@localhost:5432/rental_ml
ASYNC_DATABASE_URL=postgresql+asyncpg://rental_ml_user:password123@localhost:5432/rental_ml

# ============================================
# REDIS CONFIGURATION
# ============================================
# Redis Cache Settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379/0

# Redis Connection Pool Settings
REDIS_MAX_CONNECTIONS=25
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5
REDIS_HEALTH_CHECK_INTERVAL=30

# Cache TTL Settings (in seconds)
CACHE_DEFAULT_TTL=3600
CACHE_USER_TTL=1800
CACHE_PROPERTY_TTL=7200
CACHE_SEARCH_TTL=600
CACHE_RECOMMENDATION_TTL=1800

# ============================================
# API CONFIGURATION
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_MAX_REQUESTS=1000
API_MAX_REQUESTS_JITTER=100

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,https://rental-ml-app.com
CORS_ALLOW_CREDENTIALS=true

# ============================================
# ML MODELS CONFIGURATION
# ============================================
ML_MODEL_PATH=/var/lib/rental_ml/models
ML_MODEL_CACHE_SIZE=10
ML_TRAINING_SCHEDULE="0 2 * * 0"  # Weekly at 2 AM on Sunday
ML_BATCH_SIZE=1000

# Feature Store
FEATURE_STORE_TTL=86400  # 24 hours

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/var/log/rental_ml/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# Database Logging
DB_LOG_ENABLED=true
DB_LOG_LEVEL=WARNING
DB_SLOW_QUERY_THRESHOLD=1.0

# ============================================
# MONITORING & METRICS
# ============================================
METRICS_ENABLED=true
METRICS_PORT=8080
METRICS_PATH=/metrics

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# ============================================
# SECURITY CONFIGURATION
# ============================================
# JWT Settings
JWT_SECRET_KEY=rental_ml_jwt_secret_key_change_in_production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Password Hashing
PASSWORD_HASH_ROUNDS=12

# Session Settings
SESSION_LIFETIME=86400  # 24 hours
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true

# ============================================
# EXTERNAL SERVICES
# ============================================
# Email Configuration (if needed)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true

# File Storage
UPLOAD_PATH=/var/lib/rental_ml/uploads
MAX_UPLOAD_SIZE=10485760  # 10MB

# ============================================
# PERFORMANCE TUNING
# ============================================
# Async Settings
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=30
KEEP_ALIVE_TIMEOUT=5

# Background Tasks
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_WORKER_PROCESSES=4

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true
ENABLE_METRICS=true
ENABLE_ML_TRAINING=true
ENABLE_BACKGROUND_SCRAPING=true

# ============================================
# DEVELOPMENT/TESTING OVERRIDES
# ============================================
# Set these in development/testing environments
# SKIP_AUTH=false
# MOCK_EXTERNAL_APIS=false
# SEED_DATABASE=false